<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>주식회사 씨앤비즈 | 공지사항</title>

<!-- 2025.07.21 수정본 -->
<!-- 🔗 파비콘 아이콘 설정 -->
<link href="Cnbiz_link_icon-16.png" rel="icon" sizes="16x16" type="image/png"/>
<link href="Cnbiz_link_icon-32.png" rel="icon" sizes="32x32" type="image/png"/>
<link href="Cnbiz_link_icon-48.png" rel="icon" sizes="48x48" type="image/png"/>

<meta name="theme-color" content="#1f2937"> <!-- 다크모드용 브라우저 색상 -->
<link rel="icon" href="/LED/Cnbiz_link_icon-16.png" sizes="16x16" type="image/png" />

<!-- ✅ Tailwind CSS: 반응형·다크모드·폰트 최적화 -->
<script src="https://cdn.tailwindcss.com"></script>
<script> tailwind.config = { darkMode: 'class' } </script>

<!-- ✅ Lucide 아이콘 (홈·닫기·달/해 아이콘) -->
<script src="https://unpkg.com/lucide@latest"></script>

<!-- ✅ 텍스트 깨짐 방지, 안티앨리어싱 최적화 -->
<style>
  html, body {
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
  }
</style>
</head>

<body class="bg-white text-gray-900 dark:bg-gray-900 dark:text-gray-100 transition-colors flex flex-col min-h-screen">

<!-- ✅ 상단 헤더: 좌측 로고 + 우측 홈아이콘 -->
<header class="flex justify-between items-center h-16 px-4 sm:px-6 bg-gray-800 text-white shadow fixed top-0 left-0 right-0 z-50">
  <a href="/" class="flex items-center gap-2">
    <img src="/LED/CnbizLogo.png" alt="씨앤비즈 로고" class="h-8">
  </a>
  <a href="/" class="hover:text-yellow-400">
    <i data-lucide="home" class="w-6 h-6"></i>
  </a>
</header>

<!-- ✅ 메인 콘텐츠 -->
<main class="flex-1 mt-16 md:mt-20 flex flex-col items-center px-4">
  <h1 class="text-2xl md:text-3xl font-bold mt-4 mb-4 flex items-center">📢 <span class="ml-2">공지사항</span></h1>

  <!-- 🔍 검색창 -->
  <div class="flex justify-end w-full max-w-3xl mb-4">
    <input id="searchInput" type="text" placeholder="검색어를 입력하세요"
           class="border rounded px-3 py-2 w-60 mr-2 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-100">
    <button onclick="searchNotices()" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded">검색</button>
  </div>

  <!-- 📋 공지사항 테이블 -->
  <div class="overflow-x-auto w-full max-w-3xl bg-white dark:bg-gray-800 shadow rounded">
    <table class="w-full text-base border-t border-gray-300 dark:border-gray-600">
      <thead class="bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-100 border-b border-gray-300 dark:border-gray-600">
        <tr>
          <th class="py-3 text-center">번호</th>
          <th class="py-3">제목</th>
          <th class="py-3 text-center">작성자</th>
          <th class="py-3 text-center">작성일</th>
        </tr>
      </thead>
      <tbody id="noticeTable"></tbody>
    </table>
  </div>
</main>

<!-- ✅ 모달 (로딩 스피너 제거) -->
<div id="modal" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden">
  <div id="modalContent" 
       class="bg-white dark:bg-gray-800 rounded-lg shadow-xl w-11/12 max-w-lg mx-auto p-5 transform scale-95 opacity-0 transition-all duration-500">
    <button onclick="closeModal()" class="absolute top-3 right-3 text-gray-500 hover:text-gray-800 dark:hover:text-gray-200">
      <i data-lucide="x" class="w-5 h-5"></i>
    </button>
    <div id="modalContentInner">
      <h2 id="modalTitle" class="text-lg md:text-xl font-bold mb-4 text-center break-words"></h2>
      <img id="modalImage" src="" alt="상세 이미지" class="mb-4 rounded w-full object-cover">
      <div id="modalDesc" class="space-y-1 text-sm text-center"></div>
    </div>
  </div>
</div>

<!-- ✅ 푸터: 회사 정보와 저작권 안내 (반응형) -->
<footer class="
  mt-10 /* ✅ 위쪽 요소(카드 등)와 푸터 사이에 여백을 추가. 
           Tailwind에서 mt-8은 margin-top을 2rem(32px)만큼 주어 공간을 확보합니다. 레이아웃 상단과 푸터가 너무 붙어 보이지 않게 함 */
  py-4 /* ✅ 푸터 상·하단에 padding을 1rem(16px)만큼 추가.콘텐츠가 푸터 영역과 너무 붙지 않도록 여백 확보 */
  px-2 /* ✅ 푸터 좌·우에 padding을 0.5rem(8px) 추가. 작은 화면에서도 콘텐츠가 양쪽 끝에 딱 붙지 않도록 함 */
  text-center /* ✅ 푸터 내부의 모든 텍스트를 가운데 정렬 */
  text-xs /* ✅ 기본 글씨 크기를 extra small(0.75rem, 12px)로 설정. 모바일 등 작은 화면에서 기본적으로 작게 시작 */
  text-gray-800 /* ✅ 라이트 모드 기준 텍스트 색상을 Tailwind 기본 회색 팔레트 중 800단계로 설정. 적당히 진한 회색으로 가독성을 높임 */
  dark:text-gray-200 /* ✅ 다크 모드에서는 텍스트 색상을 밝은 회색(200단계)로 바꿔 가독성 유지 */
  leading-relaxed /* ✅ 줄간격을 약간 여유 있게 설정. 기본보다 살짝 넓어져서 글자가 답답하지 않게 보임 */
  break-words /* ✅ 긴 URL, 이메일, 회사명 등 긴 단어가 있을 때 화면을 벗어나지 않도록 강제로 줄바꿈 */
  
  /* === 반응형 설정 === */
  sm:text-sm /* ✅ 화면 너비가 sm(640px 이상)일 때 글씨 크기를 small(0.875rem, 14px)로 키움 */
  sm:py-5    /* ✅ 상·하단 padding을 조금 늘려 1.25rem(20px) */
  sm:px-3    /* ✅ 좌·우 padding도 0.75rem(12px)로 늘림 */
  sm:leading-normal /* ✅ 줄간격을 일반(normal)로 설정. 화면이 넓어지면 공간이 넉넉해 더 빡빡해도 읽기 편함 */
  md:text-base /* ✅ md(768px 이상)에서는 글씨 크기를 base(1rem, 16px)로 키워서 PC/태블릿에서 잘 보이게 */
  md:py-6     /* ✅ padding을 더 늘려서 상·하단 1.5rem(24px) */
  md:px-4     /* ✅ 좌·우 padding도 1rem(16px)로 */
  lg:text-base /* ✅ lg(1024px 이상)에서는 글씨 크기를 base(1rem, 16px)로 유지 */
  lg:py-8     /* ✅ padding은 더 넓혀서 상·하단 2rem(32px) */
  lg:px-6     /* ✅ 좌·우 padding을 1.5rem(24px) */
  xl:text-base /* ✅ xl(1280px 이상)에서도 글씨 크기를 그대로 유지하여 PC 큰 화면에서도 너무 커지지 않게 제한 */
">
  <div>업체명 : 주식회사 씨앤비즈 | 대표자 : 차호진 | 주소 : 경기 성남시 중원구 갈마치로 302 우림라이온스밸리5차 B동 1009호</div>
  <div>대표전화 : 031-706-6641 | 팩스 : 031-704-6648 | 통신판매업신고번호 : 2023-성남중원-0805</div>
  <div>
    문 의:
    <a href="mailto:sales@cnbiznet.co.kr" 
	   class="underline font-bold !text-blue-600 dark:!text-yellow-400">
       sales@cnbiznet.co.kr
    </a>
    | 기술지원:
    <a href="mailto:cto@cnbiznet.co.kr" 
       class="underline font-bold !text-blue-600 dark:!text-yellow-400">
       cto@cnbiznet.co.kr
    </a>
  </div>
  <div class="mt-1"><span id="copyrightYear"></span> (주)씨앤비즈. All rights reserved.</div>
</footer>

<!-- ✅ 다크모드 토글 버튼 -->
<button onclick="toggleTheme()" class="fixed bottom-4 right-4 z-50 bg-gray-800 text-white dark:bg-gray-200 dark:text-gray-900 p-2 rounded-full shadow">
  <i data-lucide="moon" id="theme-icon" class="w-5 h-5"></i>
</button>

<!-- ✅ JavaScript -->
<script>
lucide.createIcons(); // 아이콘 렌더링

// 📌 공지 데이터 (더 많은 항목 추가)
const data = [
  { id:0, type:'notice', title:'24년 대한적십자혈장분획센터 납품 ❤', author:'관리자', date:'2024-08-12',
    image:'/Content/Company/notice/img/notice_10.png', desc:['2024년 대한적십자혈장분획센터 전산장비 납품','납품일: 2024.7.16(수) 충북 음성','물품명: 서버랙, KVM, 노트북, 모니터, 데스크탑, 복합기, S/W'] },
  { id:0, type:'notice', title:'24년 식품의약품안전처 DB 전산화 4차 수주 ❤', author:'관리자', date:'2024-06-26',
    image:'/Content/Company/notice/img/notice_9.png', desc:['2024년 식품의약품안전처 DB전산화 4차 수주: 2024.5.14','2024년부터 폐업조직은행 데이타베이스(DB) 구축화 사업 참여'] },
  { id:8, type:'normal', title:'대한적십자 혈장분획센터 전산장비 납품 ❤', author:'관리자', date:'2023-07-26',
    image:'/Content/Company/notice/img/notice_8.png', desc:['대한적십자 혈장분획센터 전산장비 납품(2023.7.26)','서버:HPE DL20 Gen10 ','노트북:삼성 갤럭시북2 NT550XEZ','데스크탑:레노버 ThinkCentre M70t Gen3','모니터:LG 24MQ400.','복합기:MF645Cx'] },
  { id:7, type:'normal', title:'판교사 사이니지 디스플레이 공사 ❤', author:'관리자', date:'2023-10-02',
    image:'/Content/Company/notice/img/notice_7.png', desc:['판교I사 사이니지 디스플레이 공사: 2023.9 ','E/V홀 정보공유 디스플레이'] },
  { id:6, type:'normal', title:'판교A사 실외형 LED 전광판 및 AV시스템 구축 ❤', author:'관리자', date:'2023-07-27',
    image:'/Content/Company/notice/img/notice_6.png', desc:['판교A사 실외형 LED 전광판 및 AV시스템 구축: 2023.7','170인치형 P2.5 옥외형 칼라 LED 디스플레이'] },
  { id:5, type:'normal', title:'식약처 문서 전산화 시스템 3차 수주 ❤', author:'관리자', date:'2023-04-06',
    image:'/Content/Company/notice/img/notice_5.png', desc:['식약처 문서 전산화 시스템 3차 수주'] },
  { id:4, type:'normal', title:'판교A사 협업보드 및 미디어시스템 구축 ❤', author:'관리자', date:'2023-02-01',
    image:'/Content/Company/notice/img/notice_4.png', desc:['판교A사 협업보드 구축: 2023.1','MAXHUB 협업보드: 55",65"','비즈니스 TV: 65",75"'] },
  { id:3, type:'normal', title:'판교 I사 협업보드 및 미디어 시스템 구축 ❤', author:'관리자', date:'2023-01-12',
    image:'/Content/Company/notice/img/notice_3.png', desc:['판교 I사 협업보드 및 미디어 시스템 구축(2022.12~2023.1)','MAXHUB 협업보드: 65", 75", 86"','LED Wall: 120"','LED 대형 디스플레이: 98"','강당 AV시스템: 빔프로젝터,스크린,스피커,전자강연대'] },
  { id:2, type:'normal', title:'보령제약 Lims 및 네트워크 공사 수주 ❤', author:'관리자', date:'2022-07-07',
    image:'/Content/Company/notice/img/notice_2.png', desc:['보령제약 Lims 및 네트워크 공사 수주'] },
  { id:1, type:'normal', title:'식약처 문서 전산화 시스템 2차 수주 ❤', author:'관리자', date:'2022-04-27',
    image:'/Content/Company/notice/img/notice_1.png', desc:['식약처 문서 전산화시스템 2차 수주'] }
];
// ✅ 공지사항 목록 렌더링
function renderNotices(list){
  const table=document.getElementById('noticeTable'); table.innerHTML='';
  list.filter(d=>d.type==='notice').forEach(d=>{
    table.innerHTML+=`<tr class="border-b border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700">
      <td class="text-center"><span class="bg-red-500 text-white text-xs px-2 py-1 rounded">공지</span></td>
      <td class="cursor-pointer hover:underline" onclick="showDetail('${d.title}')">${d.title}</td>
      <td class="text-center">${d.author}</td><td class="text-center">${d.date}</td></tr>`;
  });
  list.filter(d=>d.type==='normal').forEach(d=>{
    table.innerHTML+=`<tr class="border-b border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700">
      <td class="text-center">${d.id}</td>
      <td class="cursor-pointer hover:underline" onclick="showDetail('${d.title}')">${d.title}</td>
      <td class="text-center">${d.author}</td><td class="text-center">${d.date}</td></tr>`;
  });
}

// ✅ 모달 열기 (로딩 제거)
function showDetail(title){
  const item = data.find(d => d.title === title);
  if(item){
    document.getElementById('modalTitle').textContent = item.title;
    document.getElementById('modalImage').src = item.image;
    document.getElementById('modalDesc').innerHTML = item.desc.map(t=>`<p>${t}</p>`).join('');

    const modal = document.getElementById('modal');
    const modalBox = document.getElementById('modalContent');
    modal.classList.remove('hidden'); 
    setTimeout(()=>{ modalBox.classList.remove('opacity-0','scale-95'); modalBox.classList.add('opacity-100','scale-100'); }, 10);

    lucide.createIcons();
  }
}

// ✅ 모달 닫기 (애니메이션)
function closeModal(){
  const modalBox = document.getElementById('modalContent');
  modalBox.classList.add('opacity-0','scale-95'); modalBox.classList.remove('opacity-100','scale-100');
  setTimeout(()=>document.getElementById('modal').classList.add('hidden'),300);
}

// ✅ 검색
function searchNotices(){
  const k=document.getElementById('searchInput').value.toLowerCase().trim();
  renderNotices(data.filter(d=>d.title.toLowerCase().includes(k)));
}

// ✅ 다크모드 토글
function toggleTheme(){
  document.documentElement.classList.toggle('dark');
  const isDark=document.documentElement.classList.contains('dark');
  document.getElementById('theme-icon').setAttribute('data-lucide',isDark?'sun':'moon'); lucide.createIcons();
  localStorage.setItem('color-mode',isDark?'dark':'light');
}

// ✅ 페이지 로드 시 저장된 모드 적용
if(localStorage.getItem('color-mode')==='dark'){
  document.documentElement.classList.add('dark');
  document.getElementById('theme-icon').setAttribute('data-lucide','sun'); lucide.createIcons();
}

// ✅ 현재 연도 (예: Copyright © 2023–2025)
const startYear = 2023;
const year = new Date().getFullYear();
document.getElementById("copyrightYear").textContent =
  `Copyright © ${year > startYear ? `${startYear}–${year}` : startYear}`;

// ✅ 초기 렌더링
renderNotices(data);
</script>
</body>
</html>
