<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <!-- âœ… ëª¨ë°”ì¼ ë°˜ì‘í˜•ì„ ìœ„í•œ viewport ì„¤ì • -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ì£¼ì‹íšŒì‚¬ ì”¨ì•¤ë¹„ì¦ˆ | ê³µì§€ì‚¬í•­</title>

  <!-- 2025.07.23 ìˆ˜ì •ë³¸ -->
  <!-- âœ… íŒŒë¹„ì½˜ (ë¸Œë¼ìš°ì € íƒ­ ì•„ì´ì½˜) ì„¤ì • -->
  <link href="Cnbiz_link_icon-16.png" rel="icon" sizes="16x16" type="image/png"/>
  <link href="Cnbiz_link_icon-32.png" rel="icon" sizes="32x32" type="image/png"/>
  <link href="Cnbiz_link_icon-48.png" rel="icon" sizes="48x48" type="image/png"/>

  <!-- âœ… Tailwind CSS: ìœ í‹¸ë¦¬í‹° ê¸°ë°˜ ë°˜ì‘í˜• í”„ë ˆì„ì›Œí¬ -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    // ë‹¤í¬ëª¨ë“œ ì„¤ì •ì„ class ê¸°ë°˜ìœ¼ë¡œ ì ìš©
    tailwind.config = {
      darkMode: 'class'
    };
  </script>

  <!-- âœ… Lucide ì•„ì´ì½˜: í™ˆ, ë‹«ê¸°, ë‹¬/í•´ ë“± SVG ì•„ì´ì½˜ ì‚¬ìš© -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <!-- âœ… í…ìŠ¤íŠ¸ ì•ˆí‹°ì•¨ë¦¬ì–´ì‹±: ê¸€ì ê¹¨ì§ ë°©ì§€ -->
  <style>
    html, body {
      text-rendering: optimizeLegibility;
      -webkit-font-smoothing: antialiased;
    }
  </style>
</head>

<body class="bg-white text-gray-900 dark:bg-gray-900 dark:text-gray-100 transition-colors flex flex-col min-h-screen">

  <!-- âœ… í—¤ë”: ìƒë‹¨ ê³ ì • ë„¤ë¹„ê²Œì´ì…˜ ë°” -->
  <header class="flex justify-between items-center h-16 px-4 sm:px-6 bg-gray-800 text-white shadow fixed top-0 left-0 right-0 z-50">
    <!-- íšŒì‚¬ ë¡œê³  (ì¢Œì¸¡) -->
    <a href="/" class="flex items-center gap-2">
      <img src="/LED/CnbizLogo.png" alt="ì”¨ì•¤ë¹„ì¦ˆ ë¡œê³ " class="h-8">
    </a>
    <!-- í™ˆ ì•„ì´ì½˜ (ìš°ì¸¡) -->
    <a href="/" class="hover:text-yellow-400">
      <i data-lucide="home" class="w-6 h-6"></i>
    </a>
  </header>

  <!-- âœ… ë©”ì¸ ì½˜í…ì¸  ì‹œì‘ -->
  <main class="flex-1 mt-16 md:mt-20 flex flex-col items-center px-4">

    <!-- í˜ì´ì§€ íƒ€ì´í‹€ -->
    <h1 class="text-2xl md:text-3xl font-bold mt-4 mb-4 flex items-center">
      ğŸ“¢ <span class="ml-2">ê³µì§€ì‚¬í•­</span>
    </h1>

    <!-- âœ… ê²€ìƒ‰ì°½ (ê³µì§€ì‚¬í•­ ì œëª© ê²€ìƒ‰) -->
    <div class="flex justify-end w-full max-w-3xl mb-4">
      <input id="searchInput" type="text" placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”"
             class="border rounded px-3 py-2 w-60 mr-2 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-100">
      <button onclick="searchNotices()" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded">ê²€ìƒ‰</button>
    </div>

    <!-- âœ… ê³µì§€ì‚¬í•­ í…Œì´ë¸” -->
    <div class="overflow-x-auto w-full max-w-3xl bg-white dark:bg-gray-800 shadow rounded">
      <table class="w-full text-base border-t border-gray-300 dark:border-gray-600">
        <!-- í…Œì´ë¸” í—¤ë” -->
        <thead class="bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-100 border-b border-gray-300 dark:border-gray-600">
          <tr>
            <th class="py-3 text-center">ë²ˆí˜¸</th>
            <th class="py-3 text-left">ì œëª©</th>
            <th class="py-3 text-center">ì‘ì„±ì</th>
            <th class="py-3 text-center">ì‘ì„±ì¼</th>
          </tr>
        </thead>
        <!-- í…Œì´ë¸” ë°”ë””: JSì—ì„œ ë Œë”ë§ -->
        <tbody id="noticeTable"></tbody>
      </table>
    </div>
  </main>

  <!-- âœ… ê³µì§€ ìƒì„¸ ëª¨ë‹¬ -->
  <div id="modal" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden">
    <div id="modalContent" class="bg-white dark:bg-gray-800 rounded-lg shadow-xl w-11/12 max-w-lg mx-auto p-5 transform scale-95 opacity-0 transition-all duration-500 relative">
      <!-- ë‹«ê¸° ë²„íŠ¼ -->
      <button onclick="closeModal()" class="absolute top-3 right-3 text-gray-500 hover:text-gray-800 dark:hover:text-gray-200">
        <i data-lucide="x" class="w-5 h-5"></i>
      </button>
      <!-- ë¡œë”© ìŠ¤í”¼ë„ˆ -->
      <div id="modalLoading" class="flex justify-center items-center h-40">
        <svg class="animate-spin h-8 w-8 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 100 16v-4l-3 3 3 3v-4a8 8 0 01-8-8z"/>
        </svg>
      </div>
      <!-- ìƒì„¸ ë‚´ìš© -->
      <div id="modalContentInner" class="hidden">
        <h2 id="modalTitle" class="text-lg md:text-xl font-bold mb-4 text-center break-words"></h2>
        <img id="modalImage" src="" alt="ìƒì„¸ ì´ë¯¸ì§€" class="mb-4 rounded w-full object-cover">
        <div id="modalDesc" class="space-y-1 text-sm text-center"></div>
      </div>
    </div>
  </div>

  <!-- âœ… í‘¸í„° -->
  <footer class="mt-10 py-4 px-2 text-center text-xs text-gray-800 dark:text-gray-200 leading-relaxed break-words sm:text-sm md:text-base md:py-6 md:px-4">
    <div>ì—…ì²´ëª… : ì£¼ì‹íšŒì‚¬ ì”¨ì•¤ë¹„ì¦ˆ | ëŒ€í‘œì : ì°¨í˜¸ì§„ | ì£¼ì†Œ : ê²½ê¸° ì„±ë‚¨ì‹œ ì¤‘ì›êµ¬ ê°ˆë§ˆì¹˜ë¡œ 302 ìš°ë¦¼ë¼ì´ì˜¨ìŠ¤ë°¸ë¦¬5ì°¨ Bë™ 1009í˜¸</div>
    <div>ëŒ€í‘œì „í™” : 031-706-6641 | íŒ©ìŠ¤ : 031-704-6648 | í†µì‹ íŒë§¤ì—…ì‹ ê³ ë²ˆí˜¸ : 2023-ì„±ë‚¨ì¤‘ì›-0805</div>
    <div>
      ë¬¸ ì˜:
      <a href="mailto:sales@cnbiznet.co.kr" class="underline font-bold !text-blue-600 dark:!text-yellow-400">
        sales@cnbiznet.co.kr
      </a>
      | ê¸°ìˆ ì§€ì›:
      <a href="mailto:cto@cnbiznet.co.kr" class="underline font-bold !text-blue-600 dark:!text-yellow-400">
        cto@cnbiznet.co.kr
      </a>
    </div>
    <div class="mt-1"><span id="copyrightYear"></span> (ì£¼)ì”¨ì•¤ë¹„ì¦ˆ. All rights reserved.</div>
  </footer>

  <!-- âœ… ë‹¤í¬ëª¨ë“œ í† ê¸€ ë²„íŠ¼ -->
  <button onclick="toggleTheme()" class="fixed bottom-4 right-4 z-50 bg-gray-800 text-white dark:bg-gray-200 dark:text-gray-900 p-2 rounded-full shadow">
    <i data-lucide="moon" id="theme-icon" class="w-5 h-5"></i>
  </button>

  <!-- âœ… ìŠ¤í¬ë¦½íŠ¸ (ê³„ì† ì•„ë˜ ì´ì–´ì§) -->
  <script>
    // ì•„ì´ì½˜ ë Œë”ë§
    lucide.createIcons();

    // ê³µì§€ì‚¬í•­ ë Œë”ë§ í•¨ìˆ˜
    function renderNotices(list) {
      const table = document.getElementById('noticeTable');
      table.innerHTML = '';

      // ê³µì§€ì‚¬í•­ ë¨¼ì € í‘œì‹œ
      list.filter(d => d.type === 'notice').forEach(d => {
        table.innerHTML += `
          <tr class="border-b border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700">
            <td class="text-center">
              <span class="bg-red-500 text-white text-xs px-2 py-1 rounded">ê³µì§€</span>
            </td>
            <td class="cursor-pointer hover:underline break-words" onclick="showDetail('${d.title}')">${d.title}</td>
            <td class="text-center">${d.author}</td>
            <td class="text-center">${d.date}</td>
          </tr>`;
      });

      // ì¼ë°˜ í•­ëª© í‘œì‹œ
      list.filter(d => d.type === 'normal').forEach(d => {
        table.innerHTML += `
          <tr class="border-b border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700">
            <td class="text-center">${d.id}</td>
            <td class="cursor-pointer hover:underline break-words" onclick="showDetail('${d.title}')">${d.title}</td>
            <td class="text-center">${d.author}</td>
            <td class="text-center">${d.date}</td>
          </tr>`;
      });
    }

    // ëª¨ë‹¬ ì—´ê¸°
    function showDetail(title) {
      const item = data.find(d => d.title === title);
      if (!item) return;

      const loading = document.getElementById('modalLoading');
      const content = document.getElementById('modalContentInner');
      loading.classList.remove('hidden');
      content.classList.add('hidden');

      document.getElementById('modalTitle').textContent = item.title;
      document.getElementById('modalImage').src = item.image;
      document.getElementById('modalDesc').innerHTML = item.desc.map(t => `<p>${t}</p>`).join('');

      const modal = document.getElementById('modal');
      const modalBox = document.getElementById('modalContent');
      modal.classList.remove('hidden');

      // ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼
      setTimeout(() => {
        modalBox.classList.remove('opacity-0', 'scale-95');
        modalBox.classList.add('opacity-100', 'scale-100');
      }, 10);

      // ì´ë¯¸ì§€ ë¡œë”© í›„ ë³¸ë¬¸ ë³´ì—¬ì£¼ê¸°
      document.getElementById('modalImage').onload = () => {
        loading.classList.add('hidden');
        content.classList.remove('hidden');
      };

      lucide.createIcons(); // ì•„ì´ì½˜ ë‹¤ì‹œ ë Œë”ë§
    }

    // ëª¨ë‹¬ ë‹«ê¸°
    function closeModal() {
      const modalBox = document.getElementById('modalContent');
      modalBox.classList.add('opacity-0', 'scale-95');
      modalBox.classList.remove('opacity-100', 'scale-100');
      setTimeout(() => document.getElementById('modal').classList.add('hidden'), 300);
    }

    // ê²€ìƒ‰ ê¸°ëŠ¥
    function searchNotices() {
      const keyword = document.getElementById('searchInput').value.toLowerCase().trim();
      renderNotices(data.filter(d => d.title.toLowerCase().includes(keyword)));
    }

    // ë‹¤í¬ëª¨ë“œ í† ê¸€
    function toggleTheme() {
      document.documentElement.classList.toggle('dark');
      const isDark = document.documentElement.classList.contains('dark');
      document.getElementById('theme-icon').setAttribute('data-lucide', isDark ? 'sun' : 'moon');
      lucide.createIcons();
      localStorage.setItem('color-mode', isDark ? 'dark' : 'light');
    }

    // ì´ˆê¸° ë‹¤í¬ëª¨ë“œ ìƒíƒœ ì ìš©
    if (localStorage.getItem('color-mode') === 'dark') {
      document.documentElement.classList.add('dark');
      document.getElementById('theme-icon').setAttribute('data-lucide', 'sun');
      lucide.createIcons();
    }

    // ì—°ë„ ìë™ ê³„ì‚°
    const startYear = 2023;
    const year = new Date().getFullYear();
    document.getElementById("copyrightYear").textContent =
      `Copyright Â© ${year > startYear ? `${startYear}â€“${year}` : startYear}`;

    // ê³µì§€ì‚¬í•­ ë°ì´í„°
    const data = [ /* ...ìƒëµëœ í•­ëª© (ê³µì§€ ë°ì´í„° ë°°ì—´)... */ ];

    // ì´ˆê¸° ë Œë”ë§
    renderNotices(data);
  </script>
</body>
</html>
